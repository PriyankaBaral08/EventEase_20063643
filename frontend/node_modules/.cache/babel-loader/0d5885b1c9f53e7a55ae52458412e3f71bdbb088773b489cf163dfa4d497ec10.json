{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sarth\\\\Downloads\\\\event-ease-structure\\\\frontend\\\\src\\\\pages\\\\Joinevents.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Container, Typography, Box, Button, Card, CardContent, CircularProgress, Alert } from '@mui/material';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JoinEvent = () => {\n  _s();\n  var _event$organizer, _event$organizer2;\n  const {\n    id: eventId\n  } = useParams(); // eventId from URL\n  const [event, setEvent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [joinStatus, setJoinStatus] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  // Fetch event details\n  const fetchEvent = async () => {\n    try {\n      setLoading(true);\n      const res = await axios.get(`/api/events/${eventId}`);\n      setEvent(res.data);\n    } catch (err) {\n      setError('Failed to load event');\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchEvent();\n  }, [eventId]);\n  const handleJoin = async () => {\n    try {\n      const res = await axios.post(`/api/events/${eventId}/join`);\n      setJoinStatus('You have successfully joined the event!');\n      setEvent(res.data.event); // optionally update UI\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || 'Failed to join event';\n      setJoinStatus('');\n      setError(msg);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      mt: 5\n    },\n    children: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(Alert, {\n      severity: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Card, {\n      sx: {\n        p: 3\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h4\",\n          gutterBottom: true,\n          children: event.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"subtitle1\",\n          gutterBottom: true,\n          children: [\"Type: \", event.type, \" | Location: \", event.location]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body1\",\n          paragraph: true,\n          children: event.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          children: [\"Start: \", new Date(event.startDate).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          gutterBottom: true,\n          children: [\"End: \", new Date(event.endDate).toLocaleString()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"body2\",\n          sx: {\n            mt: 2\n          },\n          children: [\"Organizer: \", (_event$organizer = event.organizer) === null || _event$organizer === void 0 ? void 0 : _event$organizer.username, \" (\", (_event$organizer2 = event.organizer) === null || _event$organizer2 === void 0 ? void 0 : _event$organizer2.email, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this), joinStatus && /*#__PURE__*/_jsxDEV(Alert, {\n          severity: \"success\",\n          sx: {\n            mt: 2\n          },\n          children: joinStatus\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 28\n        }, this), /*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            mt: 3\n          },\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            onClick: handleJoin,\n            children: \"Join Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outlined\",\n            sx: {\n              ml: 2\n            },\n            onClick: () => navigate(-1),\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(JoinEvent, \"ExSTy9E25S3XmzqE5Mh4Vw0UFSw=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = JoinEvent;\nexport default JoinEvent;\nvar _c;\n$RefreshReg$(_c, \"JoinEvent\");","map":{"version":3,"names":["React","useEffect","useState","Container","Typography","Box","Button","Card","CardContent","CircularProgress","Alert","useParams","useNavigate","axios","jsxDEV","_jsxDEV","JoinEvent","_s","_event$organizer","_event$organizer2","id","eventId","event","setEvent","loading","setLoading","joinStatus","setJoinStatus","error","setError","navigate","fetchEvent","res","get","data","err","console","handleJoin","post","_err$response","_err$response$data","msg","response","message","maxWidth","sx","mt","children","fileName","_jsxFileName","lineNumber","columnNumber","severity","p","variant","gutterBottom","title","type","location","paragraph","description","Date","startDate","toLocaleString","endDate","organizer","username","email","color","onClick","ml","_c","$RefreshReg$"],"sources":["C:/Users/Sarth/Downloads/event-ease-structure/frontend/src/pages/Joinevents.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CircularProgress,\r\n  Alert\r\n} from '@mui/material';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst JoinEvent = () => {\r\n  const { id: eventId } = useParams(); // eventId from URL\r\n  const [event, setEvent] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [joinStatus, setJoinStatus] = useState('');\r\n  const [error, setError] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  // Fetch event details\r\n  const fetchEvent = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await axios.get(`/api/events/${eventId}`);\r\n      setEvent(res.data);\r\n    } catch (err) {\r\n      setError('Failed to load event');\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEvent();\r\n  }, [eventId]);\r\n\r\n  const handleJoin = async () => {\r\n    try {\r\n      const res = await axios.post(`/api/events/${eventId}/join`);\r\n      setJoinStatus('You have successfully joined the event!');\r\n      setEvent(res.data.event); // optionally update UI\r\n    } catch (err) {\r\n      const msg = err.response?.data?.message || 'Failed to join event';\r\n      setJoinStatus('');\r\n      setError(msg);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container maxWidth=\"sm\" sx={{ mt: 5 }}>\r\n      {loading ? (\r\n        <CircularProgress />\r\n      ) : error ? (\r\n        <Alert severity=\"error\">{error}</Alert>\r\n      ) : (\r\n        <Card sx={{ p: 3 }}>\r\n          <CardContent>\r\n            <Typography variant=\"h4\" gutterBottom>{event.title}</Typography>\r\n            <Typography variant=\"subtitle1\" gutterBottom>\r\n              Type: {event.type} | Location: {event.location}\r\n            </Typography>\r\n            <Typography variant=\"body1\" paragraph>{event.description}</Typography>\r\n            <Typography variant=\"body2\">\r\n              Start: {new Date(event.startDate).toLocaleString()}\r\n            </Typography>\r\n            <Typography variant=\"body2\" gutterBottom>\r\n              End: {new Date(event.endDate).toLocaleString()}\r\n            </Typography>\r\n\r\n            <Typography variant=\"body2\" sx={{ mt: 2 }}>\r\n              Organizer: {event.organizer?.username} ({event.organizer?.email})\r\n            </Typography>\r\n\r\n            {joinStatus && <Alert severity=\"success\" sx={{ mt: 2 }}>{joinStatus}</Alert>}\r\n\r\n            <Box sx={{ mt: 3 }}>\r\n              <Button variant=\"contained\" color=\"primary\" onClick={handleJoin}>\r\n                Join Event\r\n              </Button>\r\n              <Button variant=\"outlined\" sx={{ ml: 2 }} onClick={() => navigate(-1)}>\r\n                Go Back\r\n              </Button>\r\n            </Box>\r\n          </CardContent>\r\n        </Card>\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default JoinEvent;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SACEC,SAAS,EACTC,UAAU,EACVC,GAAG,EACHC,MAAM,EACNC,IAAI,EACJC,WAAW,EACXC,gBAAgB,EAChBC,KAAK,QACA,eAAe;AACtB,SAASC,SAAS,EAAEC,WAAW,QAAQ,kBAAkB;AACzD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,gBAAA,EAAAC,iBAAA;EACtB,MAAM;IAAEC,EAAE,EAAEC;EAAQ,CAAC,GAAGV,SAAS,CAAC,CAAC,CAAC,CAAC;EACrC,MAAM,CAACW,KAAK,EAAEC,QAAQ,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACsB,OAAO,EAAEC,UAAU,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACwB,UAAU,EAAEC,aAAa,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAAC0B,KAAK,EAAEC,QAAQ,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM4B,QAAQ,GAAGlB,WAAW,CAAC,CAAC;;EAE9B;EACA,MAAMmB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACFN,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMO,GAAG,GAAG,MAAMnB,KAAK,CAACoB,GAAG,CAAC,eAAeZ,OAAO,EAAE,CAAC;MACrDE,QAAQ,CAACS,GAAG,CAACE,IAAI,CAAC;IACpB,CAAC,CAAC,OAAOC,GAAG,EAAE;MACZN,QAAQ,CAAC,sBAAsB,CAAC;MAChCO,OAAO,CAACR,KAAK,CAACO,GAAG,CAAC;IACpB,CAAC,SAAS;MACRV,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACd8B,UAAU,CAAC,CAAC;EACd,CAAC,EAAE,CAACV,OAAO,CAAC,CAAC;EAEb,MAAMgB,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACF,MAAML,GAAG,GAAG,MAAMnB,KAAK,CAACyB,IAAI,CAAC,eAAejB,OAAO,OAAO,CAAC;MAC3DM,aAAa,CAAC,yCAAyC,CAAC;MACxDJ,QAAQ,CAACS,GAAG,CAACE,IAAI,CAACZ,KAAK,CAAC,CAAC,CAAC;IAC5B,CAAC,CAAC,OAAOa,GAAG,EAAE;MAAA,IAAAI,aAAA,EAAAC,kBAAA;MACZ,MAAMC,GAAG,GAAG,EAAAF,aAAA,GAAAJ,GAAG,CAACO,QAAQ,cAAAH,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcL,IAAI,cAAAM,kBAAA,uBAAlBA,kBAAA,CAAoBG,OAAO,KAAI,sBAAsB;MACjEhB,aAAa,CAAC,EAAE,CAAC;MACjBE,QAAQ,CAACY,GAAG,CAAC;IACf;EACF,CAAC;EAED,oBACE1B,OAAA,CAACZ,SAAS;IAACyC,QAAQ,EAAC,IAAI;IAACC,EAAE,EAAE;MAAEC,EAAE,EAAE;IAAE,CAAE;IAAAC,QAAA,EACpCvB,OAAO,gBACNT,OAAA,CAACN,gBAAgB;MAAAuC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,GAClBvB,KAAK,gBACPb,OAAA,CAACL,KAAK;MAAC0C,QAAQ,EAAC,OAAO;MAAAL,QAAA,EAAEnB;IAAK;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,gBAEvCpC,OAAA,CAACR,IAAI;MAACsC,EAAE,EAAE;QAAEQ,CAAC,EAAE;MAAE,CAAE;MAAAN,QAAA,eACjBhC,OAAA,CAACP,WAAW;QAAAuC,QAAA,gBACVhC,OAAA,CAACX,UAAU;UAACkD,OAAO,EAAC,IAAI;UAACC,YAAY;UAAAR,QAAA,EAAEzB,KAAK,CAACkC;QAAK;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa,CAAC,eAChEpC,OAAA,CAACX,UAAU;UAACkD,OAAO,EAAC,WAAW;UAACC,YAAY;UAAAR,QAAA,GAAC,QACrC,EAACzB,KAAK,CAACmC,IAAI,EAAC,eAAa,EAACnC,KAAK,CAACoC,QAAQ;QAAA;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,eACbpC,OAAA,CAACX,UAAU;UAACkD,OAAO,EAAC,OAAO;UAACK,SAAS;UAAAZ,QAAA,EAAEzB,KAAK,CAACsC;QAAW;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAa,CAAC,eACtEpC,OAAA,CAACX,UAAU;UAACkD,OAAO,EAAC,OAAO;UAAAP,QAAA,GAAC,SACnB,EAAC,IAAIc,IAAI,CAACvC,KAAK,CAACwC,SAAS,CAAC,CAACC,cAAc,CAAC,CAAC;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxC,CAAC,eACbpC,OAAA,CAACX,UAAU;UAACkD,OAAO,EAAC,OAAO;UAACC,YAAY;UAAAR,QAAA,GAAC,OAClC,EAAC,IAAIc,IAAI,CAACvC,KAAK,CAAC0C,OAAO,CAAC,CAACD,cAAc,CAAC,CAAC;QAAA;UAAAf,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC,eAEbpC,OAAA,CAACX,UAAU;UAACkD,OAAO,EAAC,OAAO;UAACT,EAAE,EAAE;YAAEC,EAAE,EAAE;UAAE,CAAE;UAAAC,QAAA,GAAC,aAC9B,GAAA7B,gBAAA,GAACI,KAAK,CAAC2C,SAAS,cAAA/C,gBAAA,uBAAfA,gBAAA,CAAiBgD,QAAQ,EAAC,IAAE,GAAA/C,iBAAA,GAACG,KAAK,CAAC2C,SAAS,cAAA9C,iBAAA,uBAAfA,iBAAA,CAAiBgD,KAAK,EAAC,GAClE;QAAA;UAAAnB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAY,CAAC,EAEZzB,UAAU,iBAAIX,OAAA,CAACL,KAAK;UAAC0C,QAAQ,EAAC,SAAS;UAACP,EAAE,EAAE;YAAEC,EAAE,EAAE;UAAE,CAAE;UAAAC,QAAA,EAAErB;QAAU;UAAAsB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eAE5EpC,OAAA,CAACV,GAAG;UAACwC,EAAE,EAAE;YAAEC,EAAE,EAAE;UAAE,CAAE;UAAAC,QAAA,gBACjBhC,OAAA,CAACT,MAAM;YAACgD,OAAO,EAAC,WAAW;YAACc,KAAK,EAAC,SAAS;YAACC,OAAO,EAAEhC,UAAW;YAAAU,QAAA,EAAC;UAEjE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACTpC,OAAA,CAACT,MAAM;YAACgD,OAAO,EAAC,UAAU;YAACT,EAAE,EAAE;cAAEyB,EAAE,EAAE;YAAE,CAAE;YAACD,OAAO,EAAEA,CAAA,KAAMvC,QAAQ,CAAC,CAAC,CAAC,CAAE;YAAAiB,QAAA,EAAC;UAEvE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV;EACP;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAEhB,CAAC;AAAClC,EAAA,CA9EID,SAAS;EAAA,QACWL,SAAS,EAKhBC,WAAW;AAAA;AAAA2D,EAAA,GANxBvD,SAAS;AAgFf,eAAeA,SAAS;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}